<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<VBox fx:id="rootVBox" style="-fx-background-color: #f5f5f5;" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.buynearme.client.AdminController">
    
    <padding>
        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
    </padding>

    <!-- Header -->
    <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-padding: 15; -fx-background-color: transparent;">
        <Button onAction="#onHomeButtonClick" style="-fx-background-color: #667eea; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 16; -fx-background-radius: 5;" text="ðŸ  Home" />
        <Label style="-fx-text-fill: #333;" text="ðŸ› Admin Dashboard">
            <font>
                <Font name="System Bold" size="24.0" />
            </font>
        </Label>
        
        <!-- Spacer to push algorithm selection to the right -->
        <VBox HBox.hgrow="ALWAYS" />

        <Label text="Pathfinding Algorithm:">
            <font>
                <Font size="14.0" />
            </font>
        </Label>
        <ComboBox fx:id="algorithmComboBox" promptText="Select Algorithm" />
        <Label fx:id="currentAlgorithmLabel" text="(Current: Unknown)">
            <font>
                <Font size="12.0" />
            </font>
        </Label>
    </HBox>

    <!-- TabPane -->
    <TabPane fx:id="tabPane" style="-fx-background-color: transparent; -fx-padding: 10;" VBox.vgrow="ALWAYS">
        
        <!-- Manage Stores & Products Tab -->
        <Tab fx:id="storesTab" closable="false" text="ðŸ¬ Manage Stores &amp; Products">
            <VBox spacing="20" style="-fx-padding: 20; -fx-background-color: transparent;">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="Store Management">
                        <font>
                            <Font name="System Bold" size="18.0" />
                        </font>
                    </Label>
                    <Button onAction="#onRefreshStoresClick" style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 16;" text="ðŸ”„ Refresh" />
                    <Button onAction="#onAddStoreClick" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 16;" text="âž• Add Store" />
                </HBox>
                
                <TableView fx:id="storesTable" VBox.vgrow="ALWAYS">
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                    </columnResizePolicy>
                    <columns>
                        <TableColumn fx:id="storeIdColumn" prefWidth="50" text="ID" />
                        <TableColumn fx:id="storeNameColumn" prefWidth="150" text="Store Name" />
                        <TableColumn fx:id="storeLocationColumn" prefWidth="100" text="Location" />
                        <TableColumn fx:id="storeProductsColumn" prefWidth="100" text="Products" />
                        <TableColumn fx:id="storeDeleteColumn" prefWidth="75" text="Delete" />
                    </columns>
                </TableView>
                
                <!-- Product Management Section -->
                <VBox spacing="10" style="-fx-padding: 10; -fx-background-color: rgba(249, 249, 249, 0.9); -fx-background-radius: 5;">
                    <Label text="Product Management">
                        <font>
                            <Font name="System Bold" size="16.0" />
                        </font>
                    </Label>
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label text="Store:" />
                        <ComboBox fx:id="productStoreCombo" prefWidth="200" promptText="Select store" />
                        <Label text="Product Name:" />
                        <TextField fx:id="productName" prefWidth="150" promptText="Enter product name" />
                        <Label text="Price:" />
                        <TextField fx:id="productPrice" prefWidth="80" promptText="Enter price" />
                        <Button onAction="#onAddProductClick" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 5 10;" text="âž• Add Product" />
                    </HBox>
                </VBox>
            </VBox>
        </Tab>
        
        <!-- Manage Graph (Nodes) Tab -->
        <Tab fx:id="nodesTab" closable="false" text="Manage Graph (Nodes)">
            <VBox alignment="TOP_LEFT" spacing="20" style="-fx-padding: 20; -fx-background-color: transparent;">
                <!-- Nodes Section -->
                <VBox maxWidth="900" spacing="10" style="-fx-padding: 15; -fx-background-color: rgba(240, 248, 255, 0.9); -fx-background-radius: 5;" VBox.vgrow="ALWAYS">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label text="ðŸ—ºNodes Management">
                            <font>
                                <Font name="System Bold" size="16.0" />
                            </font>
                        </Label>
                        <Button onAction="#onRefreshNodesClick" style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 5 10;" text="ðŸ”„ Refresh" />
                        <Button onAction="#onAddNodeClick" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 5 10;" text="âž• Add Node" />
                    </HBox>
                    
                    <GridPane hgap="10" vgap="5">
                        <Label text="Node Name:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                        <TextField fx:id="nodeName" promptText="Enter node name" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                        
                        <Label text="X Coordinate:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                        <TextField fx:id="nodeX" promptText="Enter X coordinate" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                        
                              <Label text="Y Coordinate:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                        <TextField fx:id="nodeY" promptText="Enter Y coordinate" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                  <columnConstraints>
                     <ColumnConstraints />
                     <ColumnConstraints />
                  </columnConstraints>
                  <rowConstraints>
                     <RowConstraints />
                     <RowConstraints />
                     <RowConstraints />
                  </rowConstraints>
                    </GridPane>
                    
                    <TableView fx:id="nodesTable" VBox.vgrow="ALWAYS">
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                        <columns>
                            <TableColumn fx:id="nodeNameColumn" prefWidth="150" text="Node Name" />
                            <TableColumn fx:id="nodeXColumn" prefWidth="80" text="X" />
                            <TableColumn fx:id="nodeYColumn" prefWidth="80" text="Y" />
                            <TableColumn fx:id="nodeDeleteColumn" prefWidth="75" text="Delete" />
                        </columns>
                    </TableView>
                </VBox>

                <!-- Clear All Data -->
                <HBox alignment="CENTER_LEFT" style="-fx-padding: 10 0 0 0;">
                    <Button onAction="#onClearAllDataClick" style="-fx-background-color: #f44336; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20;" text="ðŸ—‘Clear All Data" />
                </HBox>
            </VBox>
        </Tab>
        
        <!-- Manage Graph (Edges) Tab -->
        <Tab fx:id="edgesTab" closable="false" text="Manage Graph (Edges)">
            <VBox alignment="TOP_LEFT" spacing="20" style="-fx-padding: 20; -fx-background-color: transparent;">
                <!-- Edges Section -->
                <VBox maxWidth="900" spacing="10" style="-fx-padding: 15; -fx-background-color: rgba(255, 248, 240, 0.9); -fx-background-radius: 5;" VBox.vgrow="ALWAYS">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label text="ðŸ›¤Edges Management">
                            <font>
                                <Font name="System Bold" size="16.0" />
                            </font>
                        </Label>
                        <Button onAction="#onRefreshEdgesClick" style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 5 10;" text="ðŸ”„ Refresh" />
                        <Button onAction="#onAddEdgeClick" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 5 10;" text="âž• Add Edge" />
                    </HBox>
                    
                    <GridPane hgap="10" vgap="5">
                        <Label text="From Node:" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                        <ComboBox fx:id="edgeFromCombo" promptText="Select from node" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                        
                        <Label text="To Node:" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                        <ComboBox fx:id="edgeToCombo" promptText="Select to node" GridPane.columnIndex="1" GridPane.rowIndex="1" />
                        
                        <Label text="Weight:" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                        <TextField fx:id="edgeWeight" promptText="Enter weight" GridPane.columnIndex="1" GridPane.rowIndex="2" />
                  <columnConstraints>
                     <ColumnConstraints />
                     <ColumnConstraints />
                  </columnConstraints>
                  <rowConstraints>
                     <RowConstraints />
                     <RowConstraints />
                     <RowConstraints />
                  </rowConstraints>
                    </GridPane>
                    
                    <TableView fx:id="edgesTable" VBox.vgrow="ALWAYS">
                        <columnResizePolicy>
                            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                        </columnResizePolicy>
                        <columns>
                            <TableColumn fx:id="edgeFromColumn" prefWidth="100" text="From" />
                            <TableColumn fx:id="edgeToColumn" prefWidth="100" text="To" />
                            <TableColumn fx:id="edgeWeightColumn" prefWidth="100" text="Weight" />
                            <TableColumn fx:id="edgeDeleteColumn" prefWidth="75" text="Delete" />
                        </columns>
                    </TableView>
                </VBox>

                <!-- Clear All Data -->
                <HBox alignment="CENTER_LEFT" style="-fx-padding: 10 0 0 0;">
                    <Button onAction="#onClearAllDataClick" style="-fx-background-color: #f44336; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20;" text="ðŸ—‘Clear All Data" />
                </HBox>
            </VBox>
        </Tab>
    </TabPane>
</VBox>
